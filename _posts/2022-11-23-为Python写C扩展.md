---
layout:     post
title:      为python写c/c++扩展
subtitle:   
date:       2022-11-23
author:     bjmsong
header-img: 
catalog: true
tags:
    - Python
--- 
## Cython
- Cython是结合了Python和C语言的一种语言，可以简单的认为就是给Python加上了静态类型后的语法，使用者可以维持大部分的Python语法。Cython编写的函数会被自动转译为C和C++代码，因此在Cython中可以插入对于C/C++函数的调用。
- code: pytorch_in_action/cython
1. run_cython.pyx(cython实现python功能), setup.py(指定cython文件)
2. 编译：python setup.py build_ext --inplace
3. main.py中import run_cython
- https://cython.apachecn.org/#/README
- https://cython.readthedocs.io/en/latest/
- https://cython.org/
- https://towardsdatascience.com/use-cython-to-get-more-than-30x-speedup-on-your-python-code-f6cb337919b6
- https://blog.csdn.net/qq_45503700/article/details/108331349?utm_medium=distribute.pc_feed_404.none-task-blog-2~default~BlogCommendFromBaidu~Rate-1-108331349-blog-null.pc_404_mixedpudn&depth_1-utm_source=distribute.pc_feed_404.none-task-blog-2~default~BlogCommendFromBaidu~Rate-1-108331349-blog-null.pc_404_mixedpud
- https://www.bilibili.com/video/BV1NF411i74S/?spm_id_from=333.999.0.0&vd_source=7798c62f92ce545f56fd00d4daf55e26

## Pybind11
- 以 Boost.Python 为蓝本，仅提供 Python & C++ binding 功能的精简版，相对于Boost.Python在binary size以及编译速度上有不少优势，对C++支持非常好。
- Pybind11 通过 C++ 编译时的自省来推断类型信息，来最大程度地减少传统拓展Python模块时繁杂的样板代码，且实现了常见数据类型，如STL数据结构、智能指针、类、函数重载、实例方法等到Python的自动转换，其中函数可以接收和返回自定义数据类型的值、指针或引用。

### https://people.duke.edu/~ccc14/sta-663-2016/18G_C++_Python_pybind11.html


### https://zhuanlan.zhihu.com/p/444805518
- 《腾讯技术工程：给 Python 算法插上性能的翅膀——pybind11 落地实践》

### 
- https://pybind11.readthedocs.io/en/stable/index.html#
- code: pytorch_in_action/pybind11_helloworld

0. git下载pybind11 ?
1. perfermance.cc: C实现python功能
2. gcc_build.sh：编译
3. test.py中import libcppex


