---
layout:     post
title:      C++进阶知识点
subtitle:   
date:       2022-11-02
author:     bjmsong
header-img: 
catalog: true
tags:
    - C++
---
## 进阶知识点
1. c与c++ struct的差异
- C++中struct与class基本一样，唯一不同的是struct成员默认是public，而class成员默认是private
- C中struct只是一些变量的集合，可以封装数据却不可以隐藏数据

2. const与#define
- const可以定义数据类型，#define没有数据类型
- const编译器可以进行安全检查，#define没有安全检查
- 可以对const进行调试，而#define不可以

3. 指针和引用
- 指针是所指向对象的地址，引用只是对象的别名
- 指针可以初始化为空，指针指向的对象可以改变，引用不能为空，必须和对象绑定，而且之后不能改变

```cpp
#include <iostream>

using namespace std;

int main(){
    int x = 10;
    int *i = &x;
    int &j = x;

    // 打印值
    cout << *i << endl;
    cout << j << endl;

    // 打印地址
    cout << i << endl;
    cout << &j << endl;
}
```

- 把引用作为形参，会改变实参的值 

```cpp
#include <iostream>

using namespace std;

void swap(int &x, int &y){
    int tmp;
    tmp = x;
    x = y;
    y = tmp;
}

int main(){
    int i = 10, j = 20;
    swap(i, j);
    cout << i << "," << j << endl;
}
``` 

4. 函数返回值为引用
- 引用作为函数的返回值时，必须在函数名前加&，最大的好处是在内存中不产生返回值的副本

5. 异常捕捉throw返回int和char的使用方法
- 

6. 异常
- 

7. 头文件的存储路径
- 

8. extern
- 

9. 读写文件
- 

10. #pragma
- 

11. 宏函数
- 

12. 枚举
- 

13. class和struct继承的区别
- 

14. 接口的编写语法
- 

15. 基于类的static
- 

16. pimpl
- 

17. 把cpp封装厂so文件并调用
- 动态库

18. auto
- 

19. 【C++11】新增类成员和数组初始化方法
- 

20. 【C++11】final关键字
- 

21. 【C++11】override关键字
- 

22. 【C++11】for-each
- 

23. 二维数组作为参数
- 

## 函数和方法
1. system, popen
2. strcpy, strncpy
3. strcmp, strncmp
4. strlen, length
5. find, rfind
6. stpcpy, stpncpy
7. substr
8. insert

## STL
### map
- 类似于python的字典
- key，value可以是任意类型
- key与value一一对应
    - multimap一个key可以对应多个value
- 与unordered_map区别
    - map
        - 有序
        - 基于红黑树实现
        - 查找的时间复杂度 O(n)
        - 占有空间比较多
    - unordered_map
        - 无序
        - 基于哈希表实现
        - 查找的效率很高
        - 哈希表建立比较费时

```cpp
    #include <iostream>
    #include <string>
    #include <map>

    using namespace std;
    int main() {
        map<int, string> person;

        // 赋值
        // 如果key重复，会覆盖
        person[0] = "bob0";

        // 如果key重复，插不进去
        person.insert(pair<int, string>(1, "bob1"));
        person.insert(map<int, string>::value_type(2, "bob2"));
        person.insert(map<int, string>::value_type(2, "bob3"));        

        // 读取
        // 方法一
        map<int, string>::iterator it;
        for(it = person.begin(); it != person.end(); it++){
            cout << it -> first << ":" << it -> second << endl;
        }

        // 方法二
        for(auto it = person.begin(); it != person.end(); it++){
            cout << it -> first << ":" << it -> second << endl;
        }

        // 方法三
        for(auto it : person){
            cout << it -> first << ":" << it -> second << endl;
        }

        // 插入数据，并返回是否成功
        pair<map<int, string>::iterator, bool> insert_pair;
        insert_pair = person.insert(map<int, string>::value_type(2, "bob4"));
        cout << "是否插入成功" << insert_pair.sceond << endl;

        // 获取map中的元素
        map<int, string>::iterator it;
        it = person.find(1);
        if(it != person.end()){
            cout << it.second << endl;
        }
        else{
            cout << "Can't find" << endl;
        }

        // 删除元素
        person.erase(1);
    }
```

## 参考资料
- b站 刘贝斯
