---
layout:     post
title:      Mining massive dataset
subtitle:   
date:       2020-07-11
author:     bjmsong
header-img: img/data_analytics/数据分析.jpg
catalog: true
tags:
    - 机器学习
---

### MapReduce
- 集群计算
- 分布式文件系统（DFS）
	- 文件被分成块，复制多个副本，放在不同的计算节点
	- 适合的文件：文件非常大、极少更新
- MapReduce
	- 允许人们在集群计算环境下开发并行程序，并能管理在长时间计算中可能出现的多节点硬件故障
	- 最大的开销来自通信
	- 计算过程
		- Map任务：将文件块转换成零个或多个键-值对序列
		- 主控制器：从每个Map任务中收集键-值对，并将它们按照键大小排序。这些键又被分到所有的Reduce任务中，所以具有相同键-值对应该归到同一Reduce任务中
		- Reduce任务：每次作用于一个键，并将与此键关联的所有值以某种方式组合起来
- hadoop：MapReduce的一个开源实现

#### MapReduce适合的计算任务
- 矩阵-向量计算

- 关系代数运算
	- 选择、投影、并/交/差、自然连接、分组和聚合
	- 数据上的很多运算可以采用通用数据查询原语句来表述

- 矩阵-矩阵计算
	- 矩阵可以看做是带3个属性的关系：行下标、列下标、它们对应的值
	- 可以看做是自然连接+分组+聚合运算 


### 相似项发现
- 步骤
	- 对每篇文档构建其k-shingle集合，将这些k-shingle映射成更短的桶编号（哈希）
		- k-shingle：任意长度为k的子串
		- k应该选择得足够大，以保证任意给定的shingle出现在任意文档中的概率较低
	- 将文档-shingle对按照shingle排序？
	- 计算文档的最小哈希签名（minhashing）
		- 两个集合经随机排列转换之后得到的两个最小哈希值相等的概率等于这两个集合的Jaccard相似度
		- 最小哈希计算
			- 排列转换：任意一列的最小哈希值是在排列转换后的行排列次序下第一个列值为1的行的行号
				- 对大规模矩阵进行显式转换缺乏可操作性
			- 实际通过一个随机哈希函数来模拟随机排列转换的效果
		- 选择最小哈希签名的长度n，随机选择n个排列转换用于矩阵M的行处理，构建最小哈希签名向量
	- 用LSH（局部敏感哈希）来构建候选对
		- LSH：对目标进行多次哈希处理，使得相似项会比不相似项更可能哈希到同一个桶中。然后将至少有一次哈希到同一个桶中的文档看做是候选对
	- 检查每个候选对的签名，确定它们一致性的比例是否大于t
	- 如果签名足够相似，则直接检查文档本身看它们是否真正相似
	- 存在问题：可能会产生反例，即某些相似文档对由于没有进入候选对所有最终没有被识别出来。也可能会产生伪正例，即在评估了某些候选对后，发现其相似性不足。

#### 距离测度
- 定义
	- 非负
	- d(x,x)=0
	- d(x,y)=d(y,x)
	- 满足三角不等式
- 欧氏距离：L2范式
- 曼哈顿距离：L1范式
- Jaccard距离：集合的交集/集合的并集
- 余弦距离：向量之间的夹角
- 编辑距离：只适用于字符串比较，将x转换为y所需要的单字符插入及删除操作的最小数目
- 海明距离：两个向量中不同分量的个数

#### 面向高相似度的方法
- 相等项发现
- 字符串表示方法：将全集排序，然后将全集表示成字符串
- 字符索引
- 位置索引
- 后缀索引


### 数据流挖掘
- 流数据模型
	- 假定数据以某种速率达到处理引擎，无法在当前可用内存中存放所有数据
	- 流处理的一种策略是保留某个概要信息，使之足够回答关于数据的期望的查询
	- 另一种策略是维持最近到达数据的一个滑动窗口
- 流抽样
	- 为创建能为某类查询所用的流样本，确定流中的关键属性集合。对任一到达流元素的键值进行哈希处理，使用哈希值来确定包含该键值的全部元素（或没有哪个元素）会是抽样样本的一部分
- 布隆过滤器
	- 允许某个特定集合的流元素通过，而大部分其他元素被丢弃
	- 使用一个大的位数组和多个哈希函数：给定集合上的元素会哈希到桶（即数组中的每一位）中，这些位置上都会置1
	- 为了检查某个流元素是否属于给定集合：使用哈希函数对它进行处理，只有所有哈希结果对应的位置为1时才能接受该元素


### 链接分析


### 聚类

### Web广告

### Spark


### 高维数据

#### 聚类

#### 降维

### 图数据
#### PageRank
#### SimRank
#### 网络分析
#### 欺诈检测


### 数据流


### 机器学习


### 应用

### 参考资料
- 《Mining massive dataset》
- https://www.edx.org/course/mining-massive-datasets
- 斯坦福 cs246 b站


