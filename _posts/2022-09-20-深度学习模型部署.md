---
layout:     post
title:      深度学习模型部署
subtitle:   
date:       2022-09-20
author:     bjmsong
header-img: 
catalog: true
tags:
    - 模型优化与部署
---
## GPU服务端部署
- TensorRT加速

## https://towardsdatascience.com/deploying-a-deep-learning-model-on-mobile-using-tensorflow-and-react-4b594fe04ab
https://python.plainenglish.io/how-to-build-a-predictive-machine-learning-site-with-react-and-python-part-three-frontend-72c063e8716e
https://cloud.tencent.com/developer/article/1449685

## 边缘端部署
- Jetson Nano
https://www.bilibili.com/video/BV1g44y1J7zS/?spm_id_from=333.337.search-card.all.click&vd_source=7798c62f92ce545f56fd00d4daf55e26
https://zhuanlan.zhihu.com/p/319292104
https://aistudio.baidu.com/aistudio/projectdetail/3451173
https://blog.csdn.net/ting_qifengl/article/details/111246874
https://www.cxyzjd.com/article/qianbin3200896/108949723
https://space.bilibili.com/649901866/channel/seriesdetail?sid=214107

- 树莓派
https://www.bilibili.com/video/BV1Mv4y1w7Pd/?spm_id_from=333.337.search-card.all.click&vd_source=7798c62f92ce545f56fd00d4daf55e26
https://qengineering.eu/deep-learning-with-raspberry-pi-and-alternatives.html
https://blog.csdn.net/ZhaoDongyu_AK47/article/details/106059943
https://www.bilibili.com/video/BV1RV411x7BN/?spm_id_from=333.337.search-card.all.click&vd_source=7798c62f92ce545f56fd00d4daf55e26

##
https://zhuanlan.zhihu.com/p/477743341
https://www.zhihu.com/column/c_1497987564452114432
https://mp.weixin.qq.com/s/1xcjOcdZGOOQtSbHa0K20g

## 平台
- 服务端：大模型，延迟不敏感
- 移动端/嵌入式/边缘端：小模型，延迟敏感

## 方式
- 原始训练框架：生产环境基本不采用
    - tf-serving、torchserve
    - 需要安装整个框架
    - 推理性能差
    - 很多冗余功能
    - 内存占用大
- 训练框架的部署引擎
    - tf-lite，TFLite Micro，pytorch-mobile
    - 只支持自己框架训练的模型
    - 支持硬件/OS有限
- 手动模型重构
    - 手写c++，实现计算图，导入权重
    - 有一定技术难度
- 专用推理引擎：最常用
    - 目标芯片对应的框架
    - TensorRT（NVIDIA GPU）
    - OpenVINO（Intel CPU）
    https://www.zhihu.com/column/c_1131328261854191616
    - MNN、TNN、Tengine（特定嵌入式芯片）

## 实操
https://zhuanlan.zhihu.com/p/477743341

## 代码
https://github.com/open-mmlab/mmdeploy
https://github.com/DefTruth/lite.ai.toolkit
https://github.com/layerism/TensorRT-Inference-Server-Tutorial
https://github.com/jjw-DL/Model_Deployment
https://github.com/CYang828/dl-deploy
https://github.com/PaddlePaddle/FastDeploy
    - https://mp.weixin.qq.com/s/oHZ7l71RwVA_VdoQyeZDag

## tf-serving
- https://tensorflow.google.cn/tfx/guide/serving
- https://www.jianshu.com/p/2fffd0e332bc
- [深度学习在美团的工程实践](https://mp.weixin.qq.com/s?__biz=MjM5NjQ5MTI5OA==&mid=2651749161&idx=1&sn=2a34bc1e36fbf259ac63ffe7c94f528b&chksm=bd12a2648a652b72a9027a572a0038d3b8a6448949c53e7aefab617a12811da84efdc88bcd29&mpshare=1&scene=1&srcid=1025pjqMWAMqES7L6Vsb6QTE#rd)
- 加速推断
    - 算法加速
    降维、量化、剪枝、二值网络
    - 硬件加速
    GPU、FPGA、asic、端计算


## 参考资料
- b站：有三AI
- https://zhuanlan.zhihu.com/p/367042545?utm_campaign=shareopn&utm_medium=social&utm_oi=30249563717632&utm_psn=1565442828280557568&utm_source=wechat_session
https://www.zhihu.com/question/411393222?utm_campaign=Sharon&utm_medium=social&utm_oi=30249563717632&utm_psn=1565442722865135616&utm_source=wechat_session&utm_content=group3_supplementQuestions
https://www.zhihu.com/question/329372124?utm_campaign=shareopn&utm_medium=social&utm_oi=30249563717632&utm_psn=1565442331993591808&utm_source=wechat_session&utm_content=group3_questions
https://www.zhihu.com/question/428800593/answer/1560594742
https://www.zhihu.com/column/c_1497987564452114432
https://www.zhihu.com/column/c_1359601708180529152
https://zhuanlan.zhihu.com/p/82540025