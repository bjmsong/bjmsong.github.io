---
layout:     post
title:      统计关系学习在知识图谱关系补全中的应用
subtitle:   
date:       2019-09-04
author:     bjmsong
header-img: img/Graph/kg.jpg
catalog: true
tags:
    - 知识图谱
---

**统计关系学习**（Statistical Relational Learning）主要应用在图结构数据中。可以用来预测图中缺失的边，节点的属性，根据节点间的关系进行聚类等。

**知识图谱的关系补全**，可以定义为预测两个节点之间是否存在边相连。

为解决这类问题，统计关系学习主要有两种思路：
* 隐特征模型：从图中挖掘节点的隐式特征
* 图特征模型：提取图中的显式特征

### 隐特征模型
隐特征模型假设节点之间的关系仅仅由节点的隐式特征决定，隐式特征指的是没法从图上直接找到的特征，也不一定具有直观的含义。
举个例子：汤姆汉克斯得了奥斯卡奖，用隐特征模型来解释就是汤姆汉克斯有“好演员”这个隐式特征，而奥斯卡奖会颁给“好演员”。
隐特征模型认为节点之间的关系可以表示为节点隐式特征的点积。
主要的方法有：
1. 张量分解的方法

如RESCAL,类似于推荐系统中的矩阵分解方法，隐式特征可以通过矩阵分解的方式得到：
$$A_{m*n} \approx U_{m*k} * V_{n*k}^T$$
A是原图构成的矩阵，U，V就是节点的隐式变量。可以通过SGD或者ALS迭代求解。
2. 矩阵分解
    - 将张量（entityy，entity，relation）转换成矩阵，再进行矩阵分解
3. multi-layer perceptrons
    - 神经网络
4. neural tensor network
5. Structured Embedding
6. TransE

### 图特征模型
图特征模型认为节点之间的关系是由图中的显式特征（如节点间的关联路径）决定的。主要的方法有：
#### Similarity measures for uni-relational 
这类方法广泛应用对于只包含一种关系的图。基本思想是：
- 相似的节点更有可能连在一起（物以类聚）
- 节点的相似度可以从节点邻居或者节点间的路径得到

人们提出了很多度量节点相似度的方法：
1. Local ： 相同邻居的数量，精度低
2. Global ： 从所有的路径组合而来，精度高，效率低
典型算法如**SimRank**，基本思想是：如果两个结点关联的结点是类似的，那么这两个结点就是相似度比较高的。
SimRank的基本公式是：

<ul> 
<li markdown="1"> 
![隐因子]({{site.baseurl}}/img/Graph/统计关系学习在知识图谱补全中的应用/SimRank.png) 
</li> 
</ul> 

s(a,b)是节点a和b的相似度，当a=b时，s(a,b)=1。Ii(a)表示a的第i个in-neighbor。当I(a)=∅或I(b)=∅时式(1)为0。公式用一句话描述就是：a和b的相似度等于a的in-neighbors和b的in-neighbors相似度的平均值。参数C是个阻尼系数，它的含义可以这么理解：假如I(a)=I(b)={A}，按照(1)式计算出sim(a,b)=C*sim(A,A)=C，所以C∈(0,1)。

>simRank的详细介绍见：[simRank](https://bjmsong.github.io/2019/09/04/SimRank/)

此外，还有**PersonalRank**，借鉴了PageRank的思想，定义了一个随机游走过程：从节点v开始出发。游走到任何一个节点时，首先按照概率α决定是继续游走，还是停止这次游走并从v节点开始重新游走。如果决定继续游走，那么就从当前节点指向的节点中按照均匀分布随机选择一个节点作为游走下次经过的节点。这样，经过很多次随机游走后，图中每个节点被访问到的概率会收敛到一个数。这样可以得到节点之间的路径概率。

>PageRank的详细介绍见：[PageRank](https://bjmsong.github.io/2019/09/04/PageRank/ "With a Title"). 

3. Quasi-local
balance predictive accuracy and computational complexity
如（限制长度）Random Walk

#### Rule Mining and Inductive Logic Programming
从图中提取规则

#### Path Ranking Algorithms
用（限制长度）Random Walk得到的路径作为特征，预测节点间关系。

此外，也可以将隐变量模型和图特征模型结合在一起使用。


### 参考资料
- 《A Review of Relational Machine Learning for Knowledge Graphs》
- 《Link Mining a survey》
- 《Link Prediction in Relational Data》
- 《The PageRank Citation Ranking: Bringing Order to the Web》
- 《SimRank;A Measure of Structural-Context Similarity》
- 《Fast Random walk with Restart and Its Applications》
- RESCAL
《A three-way model for collective learning on multi-relational data》
https://github.com/mnick/rescal.py
