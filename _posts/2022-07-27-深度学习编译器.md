---
layout:     post
title:      深度学习编译器
subtitle:   
date:       2022-07-27
author:     bjmsong
header-img: 
catalog: true
tags:
    - 模型优化与部署
---
## 《The Deep Learning Compiler: A Comprehensive Survey》
- DL compiler
    + take the DL models described in different DL frameworks as input, and then generate optimized codes for diverse DL hardware as output
- DL framework
    + simplify the implementation of various DL models
- ONNX
    + defines a unified format for representing DL models to facilitate model conversion between different DL frameworks
- DL accelerator
    + general-purpose hardware with software-hardware co-design
    + dedicated hardware fully customized for DL models
    + neuromorphic hardware inspired by biological brain science
- To map the computation to DL hardware efficiently
    + DL frameworks convert the convolution to matrix multiplication and then invoke the GEMM function in the BLAS libraries
    + hardware vendors released specially optimized libraries tailored for DL computations
        * MKL-DNN and cuDNN
    + TensorRT
        * graph optimization (e.g., layer fusion)、low-bit quantization with large collection of highly optimized GPU kernels

## 机器学习编译器的前世今生
https://mp.weixin.qq.com/s/VewqQo2CDwrGRPXGnz-6SQ


## https://space.bilibili.com/517221395/channel/collectiondetail?sid=907218

## 
- AI 编译
    + 随着深度学习应用的攻城略地，存在越来越多的需求需要将深度学习模型在各种各样的设备上高效运行起来。不同的设备上存在不同的内存结构以及计算原语，传统的做法是在图层面做一些优化，并配合专家实现的在特定设备上的高性能算子完成任务。这当中比较知名的就是Nvidia TensorRT，而即使是付出了大量工作的TensorRT，在面临用户自定义算子或者非常见的网络结构时，其图层面的优化也被迫打了折扣。深度学习编译器则是有别于传统方法的新思路。
- 两种路线
    - 框架手写优化库：如cuDNN
    - 自动编译：tvm，tensorflow xla

## 机器学习编译(Machine Learning Compilation,MLC)
- 课程资料
https://mlc.ai/summer22-zh/
b站 MLC-机器学习编译中文版
- AI软件和传统应用有很大区别
    - 需要大量数据
    - 应用核心是模型
    - 计算复杂，需要定制化加速 

##
https://github.com/jinfagang/AI-Infer-Engine-From-Zero
https://zhuanlan.zhihu.com/p/508345356
https://www.bilibili.com/video/BV1yF411M75M?p=5&vd_source=462c1bbd1b152ddb48dc3bdd58a61266
https://zhuanlan.zhihu.com/p/514448455
https://www.zhihu.com/question/466969405/answer/1964195153?utm_campaign=shareopn&utm_medium=social&utm_oi=30249563717632&utm_psn=1552035985507983360&utm_source=wechat_session

## TVM
- https://zhuanlan.zhihu.com/p/50529704
- https://tvm.apache.org/
- https://github.com/apache/tvm
- https://github.com/hyperai/tvm-cn
- 《TVM: An Automated End-to-End Optimizing Compiler for Deep Learning》
- TVMCon
- Youtube: OctoML
- https://zhuanlan.zhihu.com/p/446976730
- https://www.thepaper.cn/newsDetail_forward_15913763
- 流程
    - 计算图优化
    - tensor expression language
    - 
- 《Evaluating End-to-End Optimization for Data Analytics Applications in Weld》
- https://www.zhihu.com/question/268423574?utm_campaign=Sharon&utm_medium=social&utm_oi=30249563717632&utm_psn=1544198799094165504&utm_source=wechat_session&utm_content=group2_supplementQuestions
- https://mp.weixin.qq.com/s/NM5yvxW2JSbR06RmrR3ubw
- https://developer.aliyun.com/article/569539
- https://zhuanlan.zhihu.com/p/58918363



## MLIR
https://leiblog.wang/MLIR-A-Brief-Survey/
https://zhuanlan.zhihu.com/p/465464378
https://mlir.llvm.org/
https://www.zhihu.com/question/319145946

## Tensor Comprehensions



## AITemplate
https://www.zhihu.com/question/557608132

https://christophergs.github.io/machine%20learning/2019/03/17/how-to-deploy-machine-learning-models/
**https://learncoursefree.com/deployment-of-machine-learning-models-2/**
**李沐的博士论文**
https://zhuanlan.zhihu.com/c_158208519
https://www.zhihu.com/question/30026369

## 参考资料
- https://github.com/MondayYuan/DLCompilerResource
- https://zhuanlan.zhihu.com/p/87392811
- https://mp.weixin.qq.com/s?__biz=MzAxNDEwNjk5OQ==&mid=2650469095&idx=1&sn=26b1b205039efcf2fe1da8fcb6f68d85&chksm=83963affb4e1b3e9449923371b6bce7cbd9e5897ecbdefea07acde8a835c9cf8cc4bad87f4c3&scene=132#wechat_redirect
- https://zhuanlan.zhihu.com/p/382015459
- https://zhuanlan.zhihu.com/p/65356717
- https://zhuanlan.zhihu.com/p/474324656
- https://zhuanlan.zhihu.com/p/63410526
- b站：沛沛聊AI
- LLVM
https://www.bilibili.com/video/BV1RF411K7F5?spm_id_from=333.337.search-card.all.click&vd_source=7798c62f92ce545f56fd00d4daf55e26
- 公众号：GiantPandaCV
- https://zhuanlan.zhihu.com/p/502730940

