---
layout:     post
title:      项目管理
subtitle:   
date:       2020-03-14
author:     bjmsong
header-img: img/cs/scrum.jpg
catalog: true
tags:
    - Computer Science
---

<ul> 
<li markdown="1"> 
![]({{site.baseurl}}/img/cs/项目流程.jpg) 
</li> 
</ul> 


### 项目流程
- 会议
  - 会议前给出议程
  - 不参加无关的会
  - 记录会议纪要（confluence）：讨论要点、to do list
- 需求
  - 做有价值的需求，推掉没有价值的
  - 追踪（jira）：给别人提需求，接收别人需求
  - 跟产品仔细review需求文档（PRD）
    - 项目目标、需求细节，上线要求。。。
- 项目排期：包括其它上下游团队的项目排期
  - 甘特图
- **开发**
- 协助测试部门测试
- 上线
  - AB测试、日志、监控。。。


<ul> 
<li markdown="1"> 
![]({{site.baseurl}}/img/cs/如何保障项目成功.jpg) 
</li> 
</ul> 



### 开发流程
- 根据PRD，跟领导/同事完整讨论，形成详细设计
- 模块设计，API设计
  - 复用已有的工作，不重复造轮子
    - 参考成熟的框架
    - 整合已有的代码
  - 画模块的流程图，依赖关系
    - Visio
    - UML
  - 用包来安排模块
  - 为每个包/模块/类/函数写文档字符串
    - 说明：功能，参数，返回值，异常。。。
    - 把文档转换成HTML格式：Sphinx，Read the Docs
    - 文档要跟代码保持一致
  - 函数要解耦，拆成最细粒度，便于测试
- TDD：先单元测试，再开发
  - 单元测试用例设计：测试数据准备
  - unittest：Pycharm已经整合了
  - 代码里面多加断言：assert
  - 测试各种边界情况
- 开发代码
  - 写好注释
  - 面向对象编程
    - 把函数打包成对象
    - 对象：子对象+函数+变量
    - 封装、继承、多态
    - 访问权限：public，private，protected
  - 通过repr字符串来输出调试信息
  - 异常处理，防止程序crash
    - try/except ，raise Exception
    - 用自编的模块定义根异常
  - 用模块级别的代码来配置不同的部署环境：开发、生产
    - 把环境相关的信息加入配置文件中，实现代码和配置分离
    - 配置文件
    https://towardsdatascience.com/from-novice-to-expert-how-to-write-a-configuration-file-in-python-273e171a8eb3
    https://cloud.tencent.com/developer/article/1740527
  - 建模流程
    - 先用一个简单的算法，训练集上训练，验证集上调试，测试集上看效果
    - 画learing-curve，看是high bias 还是 high variane，再决定下一步怎么做
    - 误差分析
  - 构建虚拟python环境 ，把这套虚拟环境复制到其它地方：requirement.txt
  - 包装成一个包，类似sklearn
    - https://towardsdatascience.com/building-package-for-machine-learning-project-in-python-3fc16f541693
  - 代码质量
    - 整洁度、可读性、可维护性
    - 稳定性、健壮性
- 调试
  - Pycharm，pdb
  - 构造好debug用的数据集合
    - 中等样本，便于快速出结果，同时能测试到单元测试检查不到的情况
    - 了解数据（时间段，缺失等情况）
    - 先用ide本地debug (效率比远程调试高很多！)
    - 最后全量样本调试
- 优化：性能优化
- 集成测试：检验模块之间的交互行为
- 数据驱动测试（data-driven test），把测试项目按照功能划分到不同的套件之中：nose，pytest

<ul> 
<li markdown="1"> 
![]({{site.baseurl}}/img/cs/持续部署持续交付.jpeg) 
</li> 
</ul> 



#### TDD（测试驱动开发）
- 红：写一个测试用例，运行测试（失败）
  - 单元测试即文档，即用例
  - add 边界情况测试 
    - 假设一切可能发生的异常情况：如数据源未更新
    - 程序不要挂起
  - 要使用mock吗
- 绿：写刚好能让测试通过的实现，运行测试（成功）
- 重构：识别坏味道，用手法修改代码，运行测试（成功）
  - 简练
  - 性能优化
- 先写开发环境代码，虚构数据，后添加生产环境代码，通过配置文件进行隔离
- 变量、函数名称有意义
- 函数
  - 一个函数只做一件事情 ： 1~15 行
  - 将函数的处理流程和具体实现分开
  - 围绕函数名的功能，绝无多余
  - 传递参数尽量使用immutable变量
  - 减少函数参数
- 注释写为什么（为什么要这么写）
  - 展示做了什么是代码的责任
- 去掉else
- 复用重复代码
- 每个类，函数，模块编写文档字符串


### 时间管理
- 列TDL
  - 紧急又重要>重要不紧急>紧急不重要>不重要不紧急
- 利用好上午的时间
- 专注做一件事情
- 目标导向



### 敏捷开发
- jira user story backlog



### 参考资料
- 《代码整洁之道》
- 《effective python》
- Hidden Technical Debt in Machine Learning Systems

