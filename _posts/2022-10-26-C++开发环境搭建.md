---
layout:     post
title:      C++开发环境搭建
subtitle:   
date:       2022-10-26
author:     bjmsong
header-img: 
catalog: true
tags:
    - C++
---
## GDB调试
- https://linuxtools-rst.readthedocs.io/zh_CN/latest/tool/gdb.html
- 编译时加上调试信息：g++ -g main.cpp
https://andrewpqc.github.io/2018/11/25/gcc-and-gdb/
- https://www.sourceware.org/gdb/
- https://sourceware.org/gdb/download/onlinedocs/gdb.pdf
- 常用命令
https://cloud.tencent.com/developer/article/1425109
- watchpoint：观察的变量有变动都会print出来
- 调试core文件
    - 程序挂掉，不会默认生成core文件，需要解除资源限制: ulimit -c unlimited
    - gdb ./可执行文件 core文件
- 调试正在运行的程序
    - gdb -p pid
- man gdb
- https://www.bilibili.com/video/BV1EK411g7Li?p=5&spm_id_from=pageDriver&vd_source=7798c62f92ce545f56fd00d4daf55e26
- http://c.biancheng.net/view/8153.html
- gdb升级
https://blog.csdn.net/whatday/article/details/120819707
https://www.jianshu.com/p/d2f4d008283d
https://www.jianshu.com/p/eb95b76cdd40

## Linux开发环境搭建
### vscode
- 插件：Remote-SSH
https://www.bilibili.com/video/BV1YT4y1d78B?is_story_h5=false&p=1&share_from=ugc&share_medium=android&share_plat=android&share_session_id=97169d6a-58d4-4130-8558-1000d87a7cbe&share_source=WEIXIN&share_tag=s_i&timestamp=1660739139&unique_k=QtnQO0x
https://mp.weixin.qq.com/s/JcfHSQDdhR0BM93M1sBCdA
    - mac使用VsCode远程连接服务器总是自动断开并要求输入密码的解决办法: 配置免密码登陆
    https://blog.csdn.net/weixin_42565090/article/details/120440063
    - windows配置免密码登陆
    https://blog.csdn.net/guotianqing/article/details/123044995
- CMake
    https://www.bilibili.com/video/BV1Zq4y13777?spm_id_from=333.999.0.0&vd_source=7798c62f92ce545f56fd00d4daf55e26
    - 构建
        
        ```
        mkdir build
        cd build
        cmake ..
        make
        ./${execute_file}
        ```

    - 调试 
        - cmake .. -DCMAKE_BUILD_TYPE=Debug
        - make
        - gdb ./${execute_file}
        - windows环境下调试
        https://www.bilibili.com/video/BV1o34y1675i/?spm_id_from=333.337.search-card.all.click&vd_source=7798c62f92ce545f56fd00d4daf55e26 
    - 清理
        - make clean
    - 加速编译：make -j4
        - 多线程
    - 插件：CMake Tools
    - 报错
        - The C compiler identification is unknown
        https://blog.csdn.net/weixin_40437821/article/details/113856763
- clangd插件：打造强大的IDE！
    - 支持全项目索引、代码跳转、变量重命名、更快的代码补全、提示信息、格式化代码等
    - 跟微软c/c++插件会冲突，只能开启一个
    - clang安装
    https://www.huaweicloud.com/zhishi/clang.html
    - clangd 找不到 c++ 头文件
        - 指定clangd头文件搜索路径，需要配置settings.json
            - https://blog.csdn.net/pananflying/article/details/123133559
            - https://www.zhihu.com/question/427250657

        {
    "clangd.fallbackFlags": [
        // 设置clangd代码检查的c++版本，目前默认是c++14
        "-std=c++2a",
        // 增加项目自身头文件依赖路径，因为使用vs2019编译不会生成compile_command.json文件，项目自己的头文件就不会找到
        "-I${workspaceFolder}", // 项目根目录
        "-I${workspaceFolder}/include", // 第三方依赖的头文件目录
        "-I/usr/local/include/opencv4",
        "-I/usr/local/include/c++/11.2.0",
        "-I/usr/local/include/c++/11.2.0/x86_64-pc-linux-gnu",
        "--gcc-toolchain=/usr/local/bin/gcc"
      ]
        }

        - 查看clang编译器的头文件搜索路径
            - clang++ -c ./filename.cpp -v
        https://zhuanlan.zhihu.com/p/531422156
    https://www.bilibili.com/video/BV16g411N77i/?spm_id_from=333.999.0.0&vd_source=7798c62f92ce545f56fd00d4daf55e26
    https://blog.csdn.net/weixin_43862847/article/details/119274382
    https://blog.csdn.net/zxlin_/article/details/122414887
- 可视化调试
    - cmake .. -DCMAKE_EXPORT_COMPILE_COMMANDS=1 -DCMAKE_BUILD_TYPE=Debug
    - 修改launch.json里面的可执行文件路径
    - https://backendhouse.github.io/post/vscode-c++%E8%BF%9C%E7%A8%8B%E8%B0%83%E8%AF%95%E5%AE%9E%E6%88%98/#%E8%B0%83%E8%AF%95%E6%96%B0%E5%90%AF%E5%8A%A8%E7%9A%84%E8%BF%9B%E7%A8%8B
    - https://www.bilibili.com/video/BV13K411M78v?p=2&vd_source=7798c62f92ce545f56fd00d4daf55e26
    - lldb调试
    https://www.cnblogs.com/pandamohist/p/14166382.html
        - 目前不支持unordered_map
        https://cloud.tencent.com/developer/ask/sof/581077/answer/880422
        https://youtrack.jetbrains.com/issue/CPP-4845
- Tabnine插件：智能代码提示
- 格式化：shift+alt+F
- https://www.bilibili.com/video/BV1YG4y1v7uB/?spm_id_from=333.999.0.0&vd_source=7798c62f92ce545f56fd00d4daf55e26
- 蓝色：关键字，绿色：类，浅蓝：变量，棕色：字符串常量，黄色：方法

### CLion
- 功能强大
- https://www.zhihu.com/question/517582926
- 付费
- 远程不方便

## mac开发环境
### vscode
- 格式化
    - shift+option+F
    - clang-format：安装llvm可以获取这个工具
- 适合单个源文件
    - 基础配置
    https://blog.csdn.net/weixin_54141552/article/details/125744514
    - code runner插件
    - 调试
    https://www.youtube.com/watch?v=G9gnSGKYIg4&ab_channel=VisualStudioCode
    https://zhuanlan.zhihu.com/p/85273055
    https://zhuanlan.zhihu.com/p/361974163
    https://www.cnblogs.com/tanche-z/p/14780885.html
    https://blog.csdn.net/Vinsuan1993/article/details/103983520
    https://zhuanlan.zhihu.com/p/80659895
    https://www.jianshu.com/p/7c6599f21052
    https://www.cnblogs.com/chencarl/p/10463392.html
- 多个源文件
    - CodeLLDB插件
    - https://www.youtube.com/watch?v=hUMIy9S45mw&ab_channel=CodingBlocks
    - 多文件编译
    https://blog.csdn.net/m0_58562487/article/details/124790162

### IDE
- xcode
https://www.bilibili.com/video/BV1ef4y1x7hG/?vd_source=7798c62f92ce545f56fd00d4daf55e26
https://www.bilibili.com/video/BV1FK411L7GP/?spm_id_from=333.337.search-card.all.click&vd_source=7798c62f92ce545f56fd00d4daf55e26


## Windows开发环境
- visual studio：只有Windows版本
- eclipse
- vscode
    - https://www.bilibili.com/video/BV1EJ411V7uN/?spm_id_from=333.999.0.0&vd_source=7798c62f92ce545f56fd00d4daf55e26
    - 格式化：alt+shift+F
https://zhuanlan.zhihu.com/p/77074009
https://zhuanlan.zhihu.com/p/77645306
https://segmentfault.com/a/1190000020155987
- Terminal 
https://rishivoice.com/post/33931.html

## python开发环境
+ https://zh.d2l.ai/chapter_installation/index.html
    * miniconda: 其安装程序中包含conda软件包管理器和Python。一旦安装了Miniconda，就可以使用conda命令安装任何其他软件工具包，创建多个互相不干扰的环境
        - https://www.bilibili.com/video/BV1Nq4y137Vh?spm_id_from=333.999.0.0&vd_source=7798c62f92ce545f56fd00d4daf55e26
        - https://zhuanlan.zhihu.com/p/133494097
    * 安装pyhton第三方包：pip list
    * Pytorch用官网的命令来安装，非常快
        - https://pytorch.org/get-started/locally/
- vscode
    - https://www.bilibili.com/video/BV1RF411e7Pe/?spm_id_from=333.788.recommend_more_video.-1
    - 配置Python环境
        - https://www.cnblogs.com/kint216/p/16004937.html#visual-studio-code%E9%85%8D%E7%BD%AEpython%E7%8E%AF%E5%A2%83
        - vscode设置python解释器
        https://blog.csdn.net/weixin_43301333/article/details/120691962
    - debug in vscode
        - vscode里面打断点
        - import pdb pdb.set_trace()
        - pdb语法
            - https://docs.python.org/3/library/pdb.html#debugger-commands
        - https://realpython.com/python-debugging-pdb/
- 调试pybind11的代码
    - https://zhuanlan.zhihu.com/p/344967919
        - 单独调试C++部分的代码
    - 跨语言调试
        - https://stackoverflow.com/questions/71125094/debug-a-python-c-c-pybind11-extension-in-vscode-linux
        - https://blog.csdn.net/u011622208/article/details/111313805
        - https://github.com/pybind/pybind11/issues/1931
            - https://pythonextensionpatterns.readthedocs.io/en/latest/debugging/debug_in_ide.html
- Python调试C++动态链接库
    - https://www.cnblogs.com/yemanxiaozu/p/8269638.html
    - https://blog.csdn.net/wq_0708/article/details/121229527
    - https://www.zhihu.com/question/66517500
    - https://www.cnblogs.com/justinzhang/p/9282334.html
    - https://wiki.python.org/moin/DebuggingWithGdb
    - https://chenjiehua.me/python/gdb-python-shared-library.html

## 租服务器
https://zhuanlan.zhihu.com/p/457728444
### 腾讯云
- https://console.cloud.tencent.com/lighthouse/instance
    - 微信小号注册
- 机器配置
    + CPU：Intel Xeon Gold 6133 
        * 2.50GHz
        * 核心数量: 4
        * 二级缓存：27MB
        * 总线频率
    + 8G内存
- 可以一直开机
- 有问题，找官方客服，重启大法好
- glibc是不能随便升级的，系统会崩掉
https://cloud.tencent.com/developer/article/1499626
https://www.jianshu.com/p/f4d603967e1d

### digitalocean加GitHub学生包：免费一年
https://zhuanlan.zhihu.com/p/580769654
